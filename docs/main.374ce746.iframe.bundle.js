(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{487:function(module,exports,__webpack_require__){__webpack_require__(488),__webpack_require__(644),__webpack_require__(645),__webpack_require__(840),__webpack_require__(841),__webpack_require__(847),__webpack_require__(848),__webpack_require__(846),__webpack_require__(842),__webpack_require__(849),__webpack_require__(843),__webpack_require__(845),__webpack_require__(850),module.exports=__webpack_require__(835)},554:function(module,exports){},645:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(352)},835:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(352).configure)([__webpack_require__(836),__webpack_require__(837)],module,!1)}).call(this,__webpack_require__(162)(module))},836:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=836},837:function(module,exports,__webpack_require__){var map={"./stories/Model.stories.js":844};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=837},844:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ModelScene",(function(){return ModelScene}));var objectSpread2=__webpack_require__(171),objectWithoutProperties=__webpack_require__(466),react=__webpack_require__(0),react_three_fiber_esm=__webpack_require__(45),slicedToArray=__webpack_require__(122),useGLTF=__webpack_require__(860),toConsumableArray=__webpack_require__(227),MuscleCollection={Forearms:["forarm1_l","forarm2_l","forarm3_l","forarm4_l","forarm1_r","forarm2_r","forarm3_r","forarm4_r"],Biceps:["biceps_l","biceps_r"],Triceps:["triceps_l","triceps_r"],Deltoid:["deltoid_l","deltoid_r"],Chest:["chest_l","chest_r"],Neck:["neck"],Trapezius:["trapecius"],Rhomboid:["rhombopid_l","rhombopid_r"],UpperBack:[],ErectorSpinae:["erectorSpinae"],LatissimusDorsi:["latisimusDorsi1_l","latisimusDorsi2_l","latisimusDorsi1_r","latisimusDorsi2_r"],Abdominis:["abdonimis1_l","abdonimis2_l","abdonimis3_l","abdonimis4_l","abdonimis1_r","abdonimis2_r","abdonimis3_r","abdonimis4_r"],Obliques:["obliques_l","obliques_r"],Quadriceps:["quadriceps_l","quadriceps_r"],Gluteus:["gluteus_l","gluteus_r"],Hamstrings:["hamstring_l","hamstring_r"],HipFlexors:["hipFlexor_l","hipFlexor_r"],Abductors:["abducter_l","abducter_r"],Adductors:["adducter_l","adducter_r"],Calves:["calves1_r1","calves2_l","calves1_r","calves2_r"],TibialisAnterior:["tibialisAnterior_l","tibialisAnterior_r"]},Colors=(Object.freeze({Knee:"knee",Shoulder:"shoulder",Elbow:"elbow",Wrist:"wrist",Back:"back",LowerBack:"lowerBack",Abs:"abs"}),Object.freeze({darkBlue:"#0036B5",mediumBlue:"#2A5FE8",lightBlue:"#718CFF",darkGrey:"#292D37",grey:"#525661",lightGrey:"#7E838E",white:"#FFFFFF"})),getMuscleGroup=function getMuscleGroup(muscleName){var muscleGroupKey=Object.keys(MuscleCollection).filter((function(item){return MuscleCollection[item].includes(muscleName)}));return MuscleCollection[muscleGroupKey]},jsx_runtime=__webpack_require__(38),MeshComponent_MeshComponent=function MeshComponent(_ref){var activeMuscles=_ref.activeMuscles,clicked=_ref.clicked,setClicked=_ref.setClicked,hovered=_ref.hovered,setHovered=_ref.setHovered,_ref$data=_ref.data,name=_ref$data.name,geometry=_ref$data.geometry,material=_ref$data.material,position=_ref$data.position,onHover=Object(react.useCallback)((function(e){e.stopPropagation(),setHovered(getMuscleGroup(e.object.name)),setHover(!0)}),[setHovered]),onLeave=Object(react.useCallback)((function(e){e.stopPropagation(),setHovered([]),setHover(!1)}),[setHovered]),onClick=Object(react.useCallback)((function(e){e.stopPropagation();var muscleGroup=getMuscleGroup(e.object.name);if(muscleGroup){var newArray=Object(toConsumableArray.a)(clicked);newArray=(null==clicked?void 0:clicked.includes(e.object.name))?newArray.filter((function(item){return!(null==muscleGroup?void 0:muscleGroup.includes(item))})):[].concat(Object(toConsumableArray.a)(newArray),Object(toConsumableArray.a)(muscleGroup)),setClicked(newArray)}}),[clicked,setClicked]),_useState=Object(react.useState)(Colors.white),_useState2=Object(slicedToArray.a)(_useState,2),color=_useState2[0],setColor=_useState2[1];Object(react.useEffect)((function(){setColor(function getHighlightColor(name){var _activeMuscles$filter;if(null==hovered?void 0:hovered.includes(name))return"green";if(null==clicked?void 0:clicked.includes(name))return Colors.lightGrey;switch(null===(_activeMuscles$filter=activeMuscles.filter((function(e){return e.name===name}))[0])||void 0===_activeMuscles$filter?void 0:_activeMuscles$filter.stimulation){case"low":return Colors.lightBlue;case"medium":return Colors.mediumBlue;case"high":return Colors.darkBlue;case"Dangerous":return"red";default:return Colors.white}}(name))}),[setColor,name,activeMuscles,clicked,hovered]),Object(react.useEffect)((function(){name.includes("extruded")&&setColor(Colors.darkBlue)}),[setColor,name,activeMuscles,clicked,hovered]);var _useState3=Object(react.useState)(!1),_useState4=Object(slicedToArray.a)(_useState3,2),setHover=(_useState4[0],_useState4[1]);return Object(jsx_runtime.jsx)("mesh",{name:name,geometry:geometry,material:material,onPointerEnter:onHover,onPointerLeave:onLeave,onClick:onClick,position:position,children:Object(jsx_runtime.jsx)("meshStandardMaterial",{color:color})})};MeshComponent_MeshComponent.__docgenInfo={description:"",methods:[],displayName:"MeshComponent"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/web/MeshComponent.js"]={name:"MeshComponent",docgenInfo:MeshComponent_MeshComponent.__docgenInfo,path:"src/web/MeshComponent.js"});var Model_Model=function Model(_ref){var muscleGroups=_ref.muscleGroups,rotation=_ref.rotation,path=_ref.path,group=Object(react.useRef)(),mounted=Object(react.useRef)(!1),nodes=Object(useGLTF.a)(path).nodes,_useState=Object(react.useState)([]),_useState2=Object(slicedToArray.a)(_useState,2),clicked=_useState2[0],setClicked=_useState2[1],_useState3=Object(react.useState)([]),_useState4=Object(slicedToArray.a)(_useState3,2),hovered=_useState4[0],setHovered=_useState4[1],_useState5=Object(react.useState)(),_useState6=Object(slicedToArray.a)(_useState5,2),bodyRotation=_useState6[0],setBodyRotation=_useState6[1],meshes=Object(react.useMemo)((function(){return Object.keys(nodes).filter((function(key){return"Object3D"!==nodes[key].type})).reduce((function(obj,key){return obj[key]=nodes[key],obj}),{})}),[nodes]);return Object(react.useEffect)((function(){return mounted.current=!0,function(){return mounted.current=!1}})),Object(react.useEffect)((function(){setBodyRotation(180===rotation?15.7:0)}),[rotation]),Object(jsx_runtime.jsx)("group",{ref:group,dispose:null,children:mounted.current&&Object(jsx_runtime.jsxs)("group",{name:"Scene",children:[Object(jsx_runtime.jsx)("group",{name:"Light",position:[4.1,5.9,-1],rotation:[1.9,.9,-2]}),Object(jsx_runtime.jsx)("group",{name:"nonBinary_grp",rotation:[Math.PI/2,0,bodyRotation],scale:[.01,.01,.01],children:Object.keys(meshes).map((function(mesh,i){return Object(jsx_runtime.jsx)(MeshComponent_MeshComponent,{activeMuscles:muscleGroups,clicked:clicked,setClicked:setClicked,hovered:hovered,setHovered:setHovered,data:nodes[mesh],muscleGroups:muscleGroups},i)}))})]})})};Model_Model.__docgenInfo={description:"",methods:[],displayName:"Model"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/web/Model.js"]={name:"Model",docgenInfo:Model_Model.__docgenInfo,path:"src/web/Model.js"});var PerspectiveCamera=__webpack_require__(859),Environment=__webpack_require__(861),useProgress=__webpack_require__(857),Html=__webpack_require__(858);function Loader(){var progress=Object(useProgress.a)().progress;return Object(jsx_runtime.jsxs)(Html.a,{center:!0,children:[progress," % loaded"]})}Loader.__docgenInfo={description:"",methods:[],displayName:"Loader"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/web/Loader.js"]={name:"Loader",docgenInfo:Loader.__docgenInfo,path:"src/web/Loader.js"});var Setup_Setup=function Setup(_ref){var children=_ref.children;return Object(jsx_runtime.jsxs)(react.Suspense,{fallback:Object(jsx_runtime.jsx)(Loader,{}),children:[Object(jsx_runtime.jsx)(PerspectiveCamera.a,{makeDefault:!0,position:[0,1.8,15],fov:14.5,aspect:window.innerWidth/window.innerHeight,near:10,far:100}),children,Object(jsx_runtime.jsx)(Environment.a,{preset:"city"})]})};Setup_Setup.__docgenInfo={description:"",methods:[],displayName:"Setup"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/web/Setup.js"]={name:"Setup",docgenInfo:Setup_Setup.__docgenInfo,path:"src/web/Setup.js"});var _excluded=["gender","muscleGroups"],AnatomyVisualization_AnatomyVisualization=function AnatomyVisualization(_ref){var gender=_ref.gender,muscleGroups=_ref.muscleGroups,props=Object(objectWithoutProperties.a)(_ref,_excluded),mappedMuscleGroups=Object(react.useMemo)((function(){return muscleGroups.reduce((function(accumulator,currentValue){return MuscleCollection[currentValue.name].map((function(item){return accumulator.push({name:item,stimulation:currentValue.stimulation})})),accumulator}),[])}),[muscleGroups]);return Object(jsx_runtime.jsx)(react_three_fiber_esm.a,{dpr:[2,4],style:{height:"95vh",width:"95vw"},children:Object(jsx_runtime.jsx)(Setup_Setup,{children:Object(jsx_runtime.jsx)(Model_Model,Object(objectSpread2.a)({path:function getModelByGender(gender){switch(gender){case"male":return"./models/male.glb";case"female":return"./models/female.glb";default:return"./models/nonBinary_outlineTest_01.glb"}}(gender),muscleGroups:mappedMuscleGroups},props))})})};AnatomyVisualization_AnatomyVisualization.__docgenInfo={description:"",methods:[],displayName:"AnatomyVisualization"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/web/AnatomyVisualization.js"]={name:"AnatomyVisualization",docgenInfo:AnatomyVisualization_AnatomyVisualization.__docgenInfo,path:"src/web/AnatomyVisualization.js"});__webpack_exports__.default={title:"Anatomy Visualization",component:AnatomyVisualization_AnatomyVisualization,argTypes:{rotation:{options:["non",180],control:{type:"radio"}}}};var ModelScene=function Model(args){return Object(jsx_runtime.jsx)(AnatomyVisualization_AnatomyVisualization,Object(objectSpread2.a)({},args))}.bind({});ModelScene.story={name:"Model"},ModelScene.args={rotation:"non",muscleGroups:[{name:"Calves",stimulation:"low"},{name:"TibialisAnterior",stimulation:"medium"},{name:"ErectorSpinae",stimulation:"high"},{name:"Chest",stimulation:"Dangerous"}]},ModelScene.parameters=Object(objectSpread2.a)({storySource:{source:"(args) => <AnatomyVisualization {...args} />"}},ModelScene.parameters)},850:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));var client_api=__webpack_require__(862),esm=__webpack_require__(5),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}},layout:"centered"};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(client_api.c)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(client_api.d)(loader,!1)}));case"parameters":return Object(client_api.e)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(client_api.a)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(client_api.b)(enhancer)}));case"render":return Object(client_api.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(client_api.e)(v,!1);default:return console.log(key+" was not supported :( !")}}))}},[[487,2,3]]]);